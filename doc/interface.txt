Begrepp:

Originalbild
Bokhylla
Album
Bild


Användningsfall:

1. Björn har tagit fett med bilder och vill föra in dem i bokhyllan.

% mv bild1.jpg bild2.jpg katalog/med/originalbilder
% cd katalog/med/originalbilder
% kof inject bild1.jpg bild2.jpg bild3.jpg

Information som skapas i databasen:

  * unikt ID (MD5-summa)
  * data från EXIF-taggar
  * ytterligare metadata från kommandorad eller .rc-fil
  * information om var originalbilden finns i filsystemet
  * datum för importeringen?

2. Björn vill skapa ett album och lägga in de nyimporterade bilderna i
   det.

% kof make-album /Semestrar/Mallorca-2022 "Mallorca 2002" bild1.jpg bild3.jpg



Förslag till ny kommandosyntax:

kofoto
  create-shelf {skapa ny databas}

  add {lägg bilder i inboxen}
    --photographer="Namn Ju"
    [bild.jpg] [bild2.jpg] ...
    - {läs filnamn från stdin}

  create-album {skapa album och flytta in bilder från inbox}
    --id="unik alfanumerisk sträng"
    --name="Beskrivande namn"
    --parent="Förälderalbum"
    --all {inkludera samtliga bilder från "inkorgen"}
    [bild-id] ...
    - {läs bild-id:n från stdin}

  insert-album {skapa en länk till ett album i ett album}
    --id {album-id}
    --target {album-id}
    --position {position i albumet där länken ska placeras}
    --name

  insert-image {skapa en länk till en bild i ett album}
    --id {bild-id}
    --target {album-id}
    --position {position i albumet där länken ska placeras}
    --name

  unlink {ta bort en länk från ett album (bild/album)}
    --id {album-id}
    --position {länkens position i albumet}

  move-link {flytta en länk inom ett album}
    --id {album-id}
    --position {länkens position i albumet}
    +n {"ner" n positioner}
    -n {"upp" n positioner}
    n  {till absolut position n}

  set-caption
    --id {bild-id}
    --album {album-id, sätter caption i albumet istället}
    --caption
    - {läs från stdin (kanske)}

  set-name {sätt namn på en albumreferens}
    --id {album-id}
    --album {album-id (i vilket id:t måste finnas refererat!)}
    --name
    - {läs från stdin (kanske)}

  set-description {sätt beskrivningstext för ett album}
    --id {album-id}
    --description
    - {läs från stdin (kanske)}
  
  rescan
    --add-missing {hitta orefererade bildfiler i katalogträdet}
    --rebuild {gå igenom katalogträd och databas och bygg om filreferenser}

