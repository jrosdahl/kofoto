1 Attributes

    There are some attributes that are treated specially.

1.1 Attributes for both images and albums

    The "title" attribute should be a short description of the image
    or album, suitable for using as a title or link text.

    The "description" attribute should be a freetext description of
    the image or album. This text is usually shown below the image. If
    not set, the "title" attribute is used instead.

1.2 Album attributes

    An album may have an image that represents it in some way. The
    "frontimage" attribute specifies the image to use. If not set, the
    first object in the album is used.

1.3 Image attributes

    These attributes are set (if available) when an image is
    registered:

        Name          From                     Description
        -----------------------------------------------------------------------
        cameramake    EXIF tag "Make"          Camera vendor
        cameramodel   EXIF tag "Model"         Camera model
        captured      EXIF tag "DateTime",     When the image was created
                      "DateTimeOriginal" or
                      "DateTimeDigitized"
        exposuretime  EXIF tag "ExposureTime"  Exposure time (fraction)
        flash         EXIF tag "Flash"         Set to "Fired" if flash was used
        fnumber       EXIF tag "FNumber"       FNumber (aperture) used
        focallength   EXIF tag "FocalLength"   Focal length used
        height        Image data               Image height
        orientation   EXIF tag "Orientation"   Image orientation (up, right,
                                               left or down); defaults to up
        registered    System clock             Time of registration
        width         Image data               Image width

Key features (why we can't use J. Random Photo Album software):

    * Command-line interface available.
    * Generation of static HTML pages that can be burned to a CD-ROM
      and viewed with an ordinary web browser with no special demands
      on the browser.
    * The album tree is separate from where the images are stored.
    * Original image files are never modified.
    * The meta data may be stored in a human-readable, future-proof
      way.
    * One and the same image can be included in several albums. And
      likewise for albums.
    * "Magical" albums, e.g. one listing images that aren't included
      in any album, and one listing images sorted after timestamp.
    * (Overridable attributes depending on the location of the
      album/image.) -- would be nice...

Meta data:

    Meta data is stored in an SQLite database. The shelf records
    information about registered images and albums. Information is
    e.g. attributes (as listed above) and the image list for an album.

Configuration:

    Configuration not specific to a shelf is stored in
    ~/.kofoto/config.

Database location:

    The default database file is ~/.kofoto/shelf.

Database schema:

    See src/lib/kofoto/shelf.py.

Design requirements, goals and solutions:

    * It should be very hard to lose any information.

      - Original image files (downloaded from the camera) are never
        changed (by Kofoto).
      - Meta information can be exported to a future-safe format.
      - Original image files can be renamed/moved without loss of meta
        information.
      - Meta information is stored a database with ACID transactions.

    * It should be easy to install and to get going.

      - Requires no configuration of a database manager.

    * It should be possible to uniquely identify images.

      - A checksum of (parts of) an image is used as identifier.

    * It should be possible to uniquely identify albums.

      - Each album has a unique human-recognizable tag.

    * Albums should contain an ordered list of albums and images.

      - Albums contain an ordered list of albums and images.

    * The same album/image should be able to be a part of several
      different albums.

      - The same album/image can be a part of several different
        albums without duplication of information.

    * It should be possible to view the albums without a specialized program.

      - Standard HTML pages that can be viewed with an ordinary web
        browser are generated.

    * It should be possible to view the album from read-only media.

      - A set of static HTML pages and images are pregenerated (i.e.
        not per view).

    * It should be possible to add meta information and new kinds of
      meta information.

      - It is possible to associate arbitrary attributes with images
        and albums.

    * It should be possible to store information about image
      orientation, gamma value and other parameters that may affect
      generated images.

      - Stored as image attributes.
